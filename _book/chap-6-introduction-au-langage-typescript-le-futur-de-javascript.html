
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Chap 6 - Introduction au langage TypeScript, le futur de JavaScript - Développement d'applications mobiles avec Ionic</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
          <meta name="author" content="Charles EDOU NZE">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="chap-7-introduction-au-framework-angular.html" />
    
    
    <link rel="prev" href="chap-5-utilisation-des-composants-ionic.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Couverture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="tables-matieres.html">
            
                <a href="tables-matieres.html">
            
                    
                    Tables matières
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="copyright.html">
            
                <a href="copyright.html">
            
                    
                    Copyright
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="a-propos-de-lauteur.html">
            
                <a href="a-propos-de-lauteur.html">
            
                    
                    A propos de l'auteur
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="chapter1.html">
            
                <a href="chapter1.html">
            
                    
                    Chap 1 - Une brêve histoire du mobile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="chap-2.html">
            
                <a href="chap-2.html">
            
                    
                    Chap 2 - Cas pratique : DuckCoin, la cryptomonnaie sur mobile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="chap-3-installation-de-ionic-et-premieres-prises-en-main.html">
            
                <a href="chap-3-installation-de-ionic-et-premieres-prises-en-main.html">
            
                    
                    Chap 3 - Installation de Ionic et première prise en main
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="chap-4-templates-et-customisation.html">
            
                <a href="chap-4-templates-et-customisation.html">
            
                    
                    Chap 4 - Templates et Customisation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="chap-5-utilisation-des-composants-ionic.html">
            
                <a href="chap-5-utilisation-des-composants-ionic.html">
            
                    
                    Chap 5 - Utilisation des composants Ionic
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.11" data-path="chap-6-introduction-au-langage-typescript-le-futur-de-javascript.html">
            
                <a href="chap-6-introduction-au-langage-typescript-le-futur-de-javascript.html">
            
                    
                    Chap 6 - Introduction au langage TypeScript, le futur de JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="chap-7-introduction-au-framework-angular.html">
            
                <a href="chap-7-introduction-au-framework-angular.html">
            
                    
                    Chap 7 - Introduction au framework Angular
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="chap-8-architecture-avancee-dune-application-ionic-composants-directives-providers-et-modules.html">
            
                <a href="chap-8-architecture-avancee-dune-application-ionic-composants-directives-providers-et-modules.html">
            
                    
                    Chap 8 - Architecture avancée d'une application Ionic : Composants, Directives, Providers, Services, Pipes, Modules, persistance de données et plugins natifs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="chap-9-debogage-tests-et-monitoring.html">
            
                <a href="chap-9-debogage-tests-et-monitoring.html">
            
                    
                    Chap 9 - Tests et débogages avancés
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="chap-10-ionic-et-son-ecosysteme-cloud-lab-et-creator.html">
            
                <a href="chap-10-ionic-et-son-ecosysteme-cloud-lab-et-creator.html">
            
                    
                    Chap 10 - Ionic et son écosystème : Cloud, Lab, View et Creator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="chap-11-publication-sur-les-stores.html">
            
                <a href="chap-11-publication-sur-les-stores.html">
            
                    
                    Chap 11 - Publication sur les stores
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="chap-12-introduction-au-pwa-avec-stencil-et-capacitor.html">
            
                <a href="chap-12-introduction-au-pwa-avec-stencil-et-capacitor.html">
            
                    
                    Chap 12 - Introduction au PWA avec Stencil et Capacitor
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>
</ul>

                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Chap 6 - Introduction au langage TypeScript, le futur de JavaScript</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <h1 id="chap-6---introduction-au-langage-typescript-le-futur-de-javascript">Chap 6 - Introduction au langage TypeScript, le futur de JavaScript</h1>
<p>TypeScript est un langage de programmation libre et open source d&#xE9;velopp&#xE9; par Microsoft qui a pour but d&apos;am&#xE9;liorer et de s&#xE9;curiser la production de code JavaScript. Sortie en 2012, Il est vu par beaucoup comme le futur du Javascript, car se basant en sur la norme ECMAScript 6, celle d&#xE9;j&#xE0; int&#xE9;gr&#xE9; au moteur JavaScript de la plupart des navigateurs et qui fera foi dans les prochaines ann&#xE9;es.</p>
<p>TypeScript c&apos;est donc du JavaScript, avec de supers pouvoirs, utilis&#xE9; par la plupart des Frameworks JavaScript du moment.</p>
<p><img src="assets/typescript_framework_1.png" alt=""><img src="assets/typescript_framework_2.png" alt=""></p>
<p>Les fichiers d&#xE9;finis dans ce langage ont pour extension <strong>.ts</strong>. Les navigateurs web ne sachant pas encore interpr&#xE9;t&#xE9; du code en TypeScript pur, il est n&#xE9;cessaire de le compiler en JavaScript : on parle alors de transtypage.</p>
<h2 id="installation">Installation</h2>
<p>Ionic utilise une version <em>&quot;interne&quot;</em> de TypeScript, mais pour nos tests nous allons devoir installer le package de mani&#xE8;re globale.</p>
<pre><code>&gt; npm install -g typescript
</code></pre><h2 id="un-premier-script">Un premier script</h2>
<p>Cr&#xE9;ons un fichier &#xE0; la racine du projet <strong>demo_typescript.ts</strong> et tant qu&apos;&#xE0; faire ajoutons-y du contenu :</p>
<p><strong>demo_typescript.ts</strong></p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ditBonjour</span>(<span class="hljs-params">person</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Bonjour, &quot;</span> + person;
}

<span class="hljs-keyword">let</span> user = <span class="hljs-string">&quot;Raphael&quot;</span>;

<span class="hljs-built_in">document</span>.body.innerHTML = ditBonjour(user);
</code></pre>
<p>Il faut ensuite, compiler ce code pour g&#xE9;n&#xE9;rer un fichier .js interpr&#xE9;table par le navigateur.</p>
<pre><code class="lang-js">$ tsc demo_typescript.ts 
$ ls -l
total <span class="hljs-number">304</span>
-rw-rw-r--   <span class="hljs-number">1</span> charles charles   <span class="hljs-number">6180</span> avril <span class="hljs-number">11</span> <span class="hljs-number">22</span>:<span class="hljs-number">14</span> config.xml
-rw-rw-r--   <span class="hljs-number">1</span> charles charles    <span class="hljs-number">131</span> avril <span class="hljs-number">13</span> <span class="hljs-number">07</span>:<span class="hljs-number">12</span> demo_typescript.js
-rw-rw-r--   <span class="hljs-number">1</span> charles charles    <span class="hljs-number">133</span> avril <span class="hljs-number">13</span> <span class="hljs-number">07</span>:<span class="hljs-number">04</span> demo_typescript.ts
</code></pre>
<p><strong>demo_typescript.js</strong></p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ditBonjour</span>(<span class="hljs-params">person</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Bonjour, &quot;</span> + person;
}
<span class="hljs-keyword">var</span> user = <span class="hljs-string">&quot;Raphael&quot;</span>;
<span class="hljs-built_in">document</span>.body.innerHTML = ditBonjour(user);
</code></pre>
<p>Bien &#xE9;videmment le contenu du fichier <strong>demo_typescript.js </strong>est strictement le m&#xEA;me que celui du fichier <strong>.ts</strong>, car ce code est relativement simple.</p>
<p>Mais tout l&apos;int&#xE9;r&#xEA;t de TypeScript est surtout de pouvoir ajouter &#xE0; JavaScript des notions de classes, d&apos;interface, d&apos;h&#xE9;ritage ou de Polymorphisme,...</p>
<p>Cr&#xE9;ons une classe Licence et ajoutons-y des param&#xE8;tres et quelques m&#xE9;thodes au passage.</p>
<h2 id="types-de-base">Types de base</h2>
<p>Contrairement &#xE0; JavaScript o&#xF9; les types sont d&#xE9;finis au remplissage d&apos;une variable, TypeScript propose un typage de variable beaucoup plus fort.</p>
<p>La d&#xE9;finition g&#xE9;n&#xE9;rale d&apos;une variable se fait de la mani&#xE8;re suivante :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> nomDeLaVariable: leTypeDeBase [= valeur par d&#xE9;faut - Optionnel];
</code></pre>
<h3 id="bool&#xE9;ens">Bool&#xE9;ens</h3>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> isConnected: boolean = <span class="hljs-literal">false</span>;
</code></pre>
<h3 id="nombres">Nombres</h3>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> valeur_decimal: number = <span class="hljs-number">6</span>;
<span class="hljs-keyword">let</span> valeur_hex: number = <span class="hljs-number">0xf00d</span>;
<span class="hljs-keyword">let</span> valeur_binary: number = <span class="hljs-number">0b1010</span>;
<span class="hljs-keyword">let</span> valeur_octal: number = <span class="hljs-number">0o744</span>;
</code></pre>
<h3 id="string">String</h3>
<pre><code class="lang-js">let color: string = &quot;blue&quot;;
color = &apos;red&apos;; # On a le choix entre les guillemets simples ou doubles
</code></pre>
<p>Chose int&#xE9;ressante pour les cha&#xEE;nes de caract&#xE8;res, il est possible de les utiliser sous forme de template, un truc que l&apos;on rencontrait jusqu&apos;&#xE0; lors dans des langages de haut niveau comme Python.</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> fullName: string = <span class="hljs-string">`Charles EDOU NZE`</span>;
<span class="hljs-keyword">let</span> age: number = <span class="hljs-number">30</span>;
<span class="hljs-keyword">let</span> sentence: string = <span class="hljs-string">`Salut, mon name est <span class="hljs-subst">${ fullName }</span>.
                        J&apos;aurai <span class="hljs-subst">${ age + 1 }</span> ans &#xE0; la fin de l&apos;ann&#xE9;e.`</span>;
</code></pre>
<p>Ceci est l&apos;&#xE9;quivalent de concat&#xE9;ner des chaines de caract&#xE8;res avec le signe &quot;+&quot;.</p>
<h3 id="les-tableaux">Les tableaux</h3>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> list_nombres_premiers: number[] = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">13</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">23</span>, <span class="hljs-number">29</span>, <span class="hljs-number">31</span>];
</code></pre>
<h3 id="any">Any</h3>
<p>On l&apos;utilise quand on ne sait pas trop qu&apos;elle type de donn&#xE9;es on aura &#xE0; traiter. C&apos;est souvent le cas quand on utilise un API proprietaire.</p>
<pre><code>let variableApi: any = 4;
variableApi = &quot;c&apos;est une chaine de caract&#xE8;re&quot;;
variableApi = false; // ou un bool&#xE9;an finalement
</code></pre><h2 id="les-classes-et-les-m&#xE9;thodes">Les Classes et les m&#xE9;thodes</h2>
<p>Un des gros avantages de TypeScript est la possibilit&#xE9; de cr&#xE9;er des classes, ce qui n&apos;&#xE9;tait pas tout &#xE0; fait (au sens strict) en JavaScript, m&#xEA;me s&apos;il &#xE9;tait possible de cr&#xE9;er un genre de classe avec l&apos;attribut prototype.</p>
<p>Les m&#xE9;thodes elles sont &#xE9;quivalentes aux fonctions JavaScript, mais le mot cl&#xE9; &quot;function&quot;.</p>
<pre><code class="lang-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">classeMmi</span> </span>{
    intervenant: string;
    etudiants: string[];
    <span class="hljs-keyword">constructor</span>(intervenant: string, etudiants:string[]) {
        <span class="hljs-keyword">this</span>.intervenant = intervenant;
        <span class="hljs-keyword">this</span>.etudiants = etudiants;
    }
    getIntervenant() {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;L&apos;intervenant actuel s&apos;appelle &quot;</span> + <span class="hljs-keyword">this</span>.intervenant;
    }
    getEtudiants() {
         <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.etudiants;
    }
}

<span class="hljs-keyword">let</span> classeLPMim = <span class="hljs-keyword">new</span> classeMmi(<span class="hljs-string">&quot;charles&quot;</span>, [<span class="hljs-string">&apos;etudiant1&apos;</span>,<span class="hljs-string">&apos;etudiant_n&apos;</span>]);
classeLPMim.getIntervenant() <span class="hljs-comment">// Retourne L&apos;intervenant actuel s&apos;appelle charles</span>
</code></pre>
<h2 id="les-it&#xE9;rateurs">Les it&#xE9;rateurs</h2>
<h4 id="boucle-forof">Boucle for..of</h4>
<p>Cette boucle permet d&apos;afficher les &#xE9;l&#xE9;ments d&apos;une liste pure.</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> unArray = [<span class="hljs-number">1</span>, <span class="hljs-string">&quot;deux&quot;</span>, <span class="hljs-string">&apos;trois&apos;</span>];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> valeur <span class="hljs-keyword">of</span> unArray) {
    <span class="hljs-built_in">console</span>.log(valeur); <span class="hljs-comment">// 1, &quot;deux&quot;, &quot;trois&quot;</span>
}
</code></pre>
<p>cette boucle est aussi celle qu&apos;il faudra utiliser quand on voudra boucler sur des listes d&apos;objets :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> unArrayObjets = [{<span class="hljs-string">&apos;nom&apos;</span>:<span class="hljs-string">&apos;etudiant 1&apos;</span>, <span class="hljs-string">&apos;num&apos;</span>:<span class="hljs-number">1</span>}, {<span class="hljs-string">&apos;nom&apos;</span>:<span class="hljs-string">&apos;etudiant 2&apos;</span>, <span class="hljs-string">&apos;num&apos;</span>:<span class="hljs-number">2</span>}];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> unArrayObjets) {
    <span class="hljs-built_in">console</span>.log(item.nom); <span class="hljs-comment">// etudiant 1 etudiant 2</span>
}
</code></pre>
<h4 id="boucle-forin">Boucle for..in</h4>
<p>Reprenons le code pr&#xE9;c&#xE9;dent, mais en utilisant la boucle for..in</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> unArray = [<span class="hljs-number">1</span>, <span class="hljs-string">&quot;deux&quot;</span>, <span class="hljs-string">&apos;trois&apos;</span>];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index <span class="hljs-keyword">in</span> unArray) {
    <span class="hljs-built_in">console</span>.log(index); <span class="hljs-comment">// 0, 1, 2</span>
}
</code></pre>
<p>La boucle renvoie en fait les indexes de chaque valeur et ne doit &#xEA;tre utilis&#xE9; dans ce cas l&#xE0; que si l&apos;on souhaite vraiment r&#xE9;cup&#xE9;rer les indexes d&apos;un tableau.</p>
<p>Mais le v&#xE9;ritable int&#xE9;r&#xEA;t pour moi de la boucle <strong>for..in</strong> est de pouvoir boucler sur les propri&#xE9;t&#xE9;s d&apos;un objet.</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> etudiant = {<span class="hljs-string">&apos;nom&apos;</span>:<span class="hljs-string">&apos;Etudiant 001&apos;</span>, <span class="hljs-string">&apos;num&apos;</span>:<span class="hljs-number">1</span>};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> cle <span class="hljs-keyword">in</span> etudiant) {
    <span class="hljs-built_in">console</span>.log(etudiant[cle]) <span class="hljs-comment">// Renvoie Etudiant 001</span>
}
</code></pre>
<p>Et un petit r&#xE9;sum&#xE9; de ce que renvoie l&apos;une ou l&apos;autre des deux boucles :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> list = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];
<span class="hljs-keyword">let</span> etudiant = {<span class="hljs-string">&apos;nom&apos;</span>:<span class="hljs-string">&apos;Etudiant&apos;</span>, <span class="hljs-string">&apos;num&apos;</span>:<span class="hljs-number">1</span>};


<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">in</span> list) {
   <span class="hljs-built_in">console</span>.log(i); <span class="hljs-comment">// &quot;0&quot;, &quot;1&quot;, &quot;2&quot;,</span>
}

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> list) {
   <span class="hljs-built_in">console</span>.log(i); <span class="hljs-comment">// &quot;4&quot;, &quot;5&quot;, &quot;6&quot;</span>
}
</code></pre>
<h3 id="calculs-et-transformations-sur-les-listes-avec-map-filter-et-reduce">Calculs et transformations sur les listes avec map, filter et reduce</h3>
<h4 id="map">Map</h4>
<p>Considerons la liste de politiciens suivante :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> politiciens = [{
        <span class="hljs-string">&apos;prenom&apos;</span>: <span class="hljs-string">&apos;Emmanuel&apos;</span>,
        <span class="hljs-string">&apos;nom&apos;</span>: <span class="hljs-string">&apos;Macron&apos;</span>,
        <span class="hljs-string">&apos;age&apos;</span>: <span class="hljs-number">40</span>,
      },
      {
        <span class="hljs-string">&apos;prenom&apos;</span>: <span class="hljs-string">&apos;Edouard&apos;</span>,
        <span class="hljs-string">&apos;nom&apos;</span>: <span class="hljs-string">&apos;Philippe&apos;</span>,
        <span class="hljs-string">&apos;age&apos;</span>: <span class="hljs-number">47</span>,
      },
      {
        <span class="hljs-string">&apos;prenom&apos;</span>: <span class="hljs-string">&apos;Bruno&apos;</span>,
        <span class="hljs-string">&apos;nom&apos;</span>: <span class="hljs-string">&apos;Le Maire&apos;</span>,
        <span class="hljs-string">&apos;age&apos;</span>: <span class="hljs-number">49</span>,
      },
      {
        <span class="hljs-string">&apos;prenom&apos;</span>: <span class="hljs-string">&apos;Virginie&apos;</span>,
        <span class="hljs-string">&apos;nom&apos;</span>: <span class="hljs-string">&apos;Calmels&apos;</span>,
        <span class="hljs-string">&apos;age&apos;</span>: <span class="hljs-number">47</span>,
      },
      {
        <span class="hljs-string">&apos;prenom&apos;</span>: <span class="hljs-string">&apos;Alain&apos;</span>,
        <span class="hljs-string">&apos;nom&apos;</span>: <span class="hljs-string">&apos;Jupp&#xE9;&apos;</span>,
        <span class="hljs-string">&apos;age&apos;</span>: <span class="hljs-number">72</span>,
}];
</code></pre>
<p>Pour extraire uniquement les noms tout en majuscule de chacun d&apos;entre eux, JavaScript propose diff&#xE9;rentes solutions comme celle-ci :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> politiciens_noms = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, max = politiciens.length; i &lt; max; i += <span class="hljs-number">1</span>) {

    politiciens_noms.push(politiciens[i].nom.toUpperCase());

}

<span class="hljs-comment">// politiciens_noms</span>
<span class="hljs-comment">// (5) [&quot;MACRON&quot;, &quot;PHILIPPE&quot;, &quot;LE MAIRE&quot;, &quot;CALMELS&quot;, &quot;JUPP&#xC9;&quot;]</span>
</code></pre>
<p>Ou encore celle l&#xE0; :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> politiciens_noms = [];

politiciens.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">politicien</span>) </span>{

    politiciens_noms.push(politicien.nom.toUpperCase());

});
</code></pre>
<p>Mais avec la m&#xE9;thode Map, la r&#xE9;cup&#xE9;ration se fait de mani&#xE8;re beaucoup plus efficace :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> politiciens_noms = politiciens.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">politicien, index, array</span>) </span>{

    <span class="hljs-keyword">return</span> politicien.nom.toUpperCase(); 

});
<span class="hljs-comment">// politiciens_noms</span>
<span class="hljs-comment">// (5) [&quot;MACRON&quot;, &quot;PHILIPPE&quot;, &quot;LE MAIRE&quot;, &quot;CALMELS&quot;, &quot;JUPP&#xC9;&quot;]</span>
</code></pre>
<p>La m&#xE9;thode donne acc&#xE8;s dans son callback &#xE0; chaque item du tableau depuis la variable <strong>politicien</strong>, &#xE0; sa position (<strong>index)</strong> &#xE0; l&apos;inti&#xE9;rieur du tableau, et enfin du tableau lui-m&#xEA;me (<strong>array</strong>).</p>
<p>Avec cette m&#xE9;thode, vous n&apos;aurez pas &#xE0; vous inquieter de l&apos;index de la boucle ou d&apos;utiliser la m&#xE9;thode push pour stocker vos &#xE9;l&#xE9;ments. De plus, la m&#xE9;thode renvoyant un Array, il est tout &#xE0; fait possible de d&apos;appliquer une autre m&#xE9;thode juste apr&#xE8;s la m&#xE9;thode map.</p>
<h4 id="filter">Filter</h4>
<p>Cette m&#xE9;thode fait exactement ce que nom semble sugg&#xE9;rer : &#xE0; partir d&apos;un tableau re&#xE7;u en entr&#xE9;e, il le filtre en &#xE9;liminant les &#xE9;l&#xE9;ments non d&#xE9;sir&#xE9; selon une condition determin&#xE9;e.</p>
<p>Reprenons notre liste de politiciens et ne retenons que ceux de moins de 50 ans. Gr&#xE2;ce &#xE0; la methode filter, il suffit de faire :</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> politiciens_U50 = politiciens.filter((politicien) =&gt; politicien.age &lt;= <span class="hljs-number">50</span> );

<span class="hljs-comment">// (4) [{&#x2026;}, {&#x2026;}, {&#x2026;}, {&#x2026;}]</span>
<span class="hljs-comment">// 0:{prenom: &quot;Emmanuel&quot;, nom: &quot;Macron&quot;, age: 40}</span>
<span class="hljs-comment">// 1:{prenom: &quot;Edouard&quot;, nom: &quot;Philippe&quot;, age: 47}</span>
<span class="hljs-comment">// 2:{prenom: &quot;Bruno&quot;, nom: &quot;Le Maire&quot;, age: 49}</span>
<span class="hljs-comment">// 3:{prenom: &quot;Virginie&quot;, nom: &quot;Calmels&quot;, age: 47}</span>
<span class="hljs-comment">// length:4 </span>
<span class="hljs-comment">// __proto__:Array(0)</span>
</code></pre>
<h4 id="reduce">Reduce</h4>
<p>Si la fonction <strong>map</strong> permet de cr&#xE9;er un nouveau tableau en transformant chaque &#xE9;l&#xE9;ment d&apos;un tableau, et si <strong>filter</strong> permet quant &#xE0; lui de cr&#xE9;er un nouveau tableau en supprimer des &#xE9;l&#xE9;ments selon une condition determin&#xE9;e, la m&#xE9;thode <strong>reduce</strong> permet de prendre tous les &#xE9;l&#xE9;ments du tableau pour les &quot;r&#xE9;duire&quot; &#xE0; une unique valeur.</p>
<p>Consid&#xE9;rons le tableau de politiciens de moins de 50 ans pr&#xE9;c&#xE9;cent. On aimerait cette fois calculer la moyenne d&apos;&#xE2;ge de ces <em>&quot;jeunes&quot;</em> faiseurs de lois.</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> moyenne_age = politiciens_U50.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">previous, current, index</span>) </span>{
    <span class="hljs-keyword">return</span> (previous + current.age);
}, <span class="hljs-number">0</span>)/politiciens_U50.length;

<span class="hljs-comment">// previous est la valeur de l&apos;&#xE2;ge &#xE0; un moment t dans la boucle. Cette valeur est initiali&#xE9; &#xE0; 0.</span>
<span class="hljs-comment">// current est la valeur actuelle de l&apos;&#xE9;lement de la boucle, ex: {prenom: &quot;Emmanuel&quot;, nom: &quot;Macron&quot;, age: 40}</span>

<span class="hljs-comment">// moyenne_age : 45.75</span>
</code></pre>
<p>Vous aurez souvent l&apos;occasion d&apos;utiliser ces m&#xE9;thodes qui sont extr&#xEA;ment puissante. On peut comme dit pr&#xE9;c&#xE9;demment les concat&#xE9;ner les unes derri&#xE8;re les autres. On peut par exemple calculer la moyenne d&apos;&#xE2;ge des politiciens de moins 50 ans pr&#xE9;c&#xE9;dents en une seule ligne de code. Oui je sais, je suis cruel de vous l&apos;avoir cach&#xE9; jusque l&#xE0; :-).</p>
<pre><code class="lang-js">politiciens.filter((politicien) =&gt; politicien.age &lt;= <span class="hljs-number">50</span> )
           .reduce(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">previous, current, index</span>) </span>{
                      <span class="hljs-keyword">return</span> previous + current.age;
           }, <span class="hljs-number">0</span>)/politiciens.filter((politicien) =&gt; politicien.age &lt;= <span class="hljs-number">50</span> )
.length;

<span class="hljs-comment">// Renvoie bien : 45.75</span>
</code></pre>
<h2 id="les-conditions">Les conditions</h2>
<p>Comme en JavaScript. On retrouve les tradionnels &quot;if..else&quot; , &quot;switch...case&quot; :</p>
<pre><code class="lang-js"><span class="hljs-keyword">if</span>(une_conditon) {  
   <span class="hljs-comment">// La condition est vraie</span>
} <span class="hljs-keyword">else</span> {
   <span class="hljs-comment">// Elle est fausse  </span>
}
</code></pre>
<p>Et un switch-case :</p>
<pre><code>switch(meteo) { 
   case &apos;soleil&apos;: { 
      //Il fait beau 
      break; 
   } 
   case &apos;pluie&apos;: { 
      // Il fait moins beau 
      break; 
   } 
   default: { 
      // devine 
      break; 
   } 
}
</code></pre><h2 id="constantes">Constantes</h2>
<p>Une constante comme son nom le suppose est cens&#xE9; de ne pas &#xEA;tre chang&#xE9; par la suite ou red&#xE9;fini par la suite. On pourra par exemple y stocker une URL d&apos;une API.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> apiUrl = <span class="hljs-string">&apos;https://duckcoin.charlesen.fr&apos;</span>;
</code></pre>
<h2 id="comment-typescript-sint&#xE8;gre-&#xE0;-ionic">Comment TypeScript s&apos;int&#xE8;gre &#xE0; Ionic</h2>
<p>En fait, TypeScript est pr&#xE9;sent partout ou presque dans Ionic. Les classes d&#xE9;finies dans les fichiers .ts de chaque page sont &#xE9;crites, comme vous vous en doutiez surement, en TypeScript :</p>
<pre><code class="lang-js"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> </span>{
  selected : any = <span class="hljs-string">&apos;&apos;</span>;
  items : any = [];
  <span class="hljs-keyword">constructor</span>(public navCtrl: NavController) {
    <span class="hljs-keyword">this</span>.items = [
      {<span class="hljs-string">&apos;title&apos;</span>:<span class="hljs-string">&apos;Bitcoin&apos;</span>, <span class="hljs-string">&apos;currency&apos;</span>:<span class="hljs-string">&apos;btc&apos;</span>, <span class="hljs-string">&apos;price&apos;</span>:<span class="hljs-string">&apos;5000&#x20AC;&apos;</span>},
      {<span class="hljs-string">&apos;title&apos;</span>:<span class="hljs-string">&apos;Ethereum&apos;</span>, <span class="hljs-string">&apos;currency&apos;</span>:<span class="hljs-string">&apos;eth&apos;</span>, <span class="hljs-string">&apos;price&apos;</span>:<span class="hljs-string">&apos;500&#x20AC;&apos;</span>},
      {<span class="hljs-string">&apos;title&apos;</span>:<span class="hljs-string">&apos;Ripple&apos;</span>, <span class="hljs-string">&apos;currency&apos;</span>:<span class="hljs-string">&apos;xrp&apos;</span>, <span class="hljs-string">&apos;price&apos;</span>:<span class="hljs-string">&apos;0.4&#x20AC;&apos;</span>}
    ];
  }

  itemSelected(item) {
    <span class="hljs-keyword">this</span>.selected =item;
  }

}
</code></pre>
<h2 id="exercez-vous">Exercez-vous</h2>
<p>1) On veut afficher la liste des derni&#xE8;res transactions de la Blockchain sous forme de liste dans l&apos;onglet Accueil, tout en bas du texte de bienvenue.On d&#xE9;finit la liste de transactions ci-dessous :</p>
<pre><code class="lang-js">    <span class="hljs-keyword">this</span>.transactions = [
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;maxime&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;raphael&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;doreen&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;louis-joseph&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;elise&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;germain&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;anthony&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;pol&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;vincent&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;nicolas&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;kevin&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;willy&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;elodie&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;adrien&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;romain&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;quentin&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;jean-etienne&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      },
      {
        <span class="hljs-string">&apos;sender&apos;</span>: <span class="hljs-string">&apos;charles&apos;</span>,
        <span class="hljs-string">&apos;recipient&apos;</span>: <span class="hljs-string">&apos;gael&apos;</span>,
        <span class="hljs-string">&apos;amount&apos;</span>: <span class="hljs-number">100</span>,
      }
    ];
</code></pre>
<p>En vous basant sur ce qui a &#xE9;t&#xE9; fait pr&#xE9;c&#xE9;demment avec la liste des cryptomonnaies Bitcoin, Ethereum et Ripple, faites en sorte que l&apos;on puisse visualiser la liste des derni&#xE8;res transactions en Page d&apos;accueil.</p>
<p><img src="assets/transaction_list_1.png" alt=""></p>
<p>3) Le signe dollar ($) de la liste est ajout&#xE9; automatiquement gr&#xE2;ce &#xE0; un pipe Angular (concept abord&#xE9; au <a href="chap-7-introduction-au-framework-angular.html">chapitre 7</a>). Comment d&apos;apr&#xE8;s la documentation suivante, est-il possible de remplacer le $ en &#x20AC; ? Puis &#x20AC; en DRT ? <a href="https://angular.io/api/common/CurrencyPipe" target="_blank">https://angular.io/api/common/CurrencyPipe</a>.</p>
<p><img src="assets/transact_2.png" alt=""></p>
<p>2) Faites qu&apos;en cliquant sur une ligne de la transaction, on affiche une fen&#xEA;tre modale, avec le r&#xE9;sum&#xE9; de la transaction :</p>
<p><a href="https://ionicframework.com/docs/components/#modals" target="_blank">https://ionicframework.com/docs/components/#modals</a></p>
<p><strong>P.S :</strong> il est possible de passer des param&#xE8;tres &#xE0; une fenetre modale, puis de les r&#xE9;cup&#xE9;rer dans la fenetre concern&#xE9;e :</p>
<p>Ouverture de la fen&#xEA;tre avec passage de param&#xE8;tres :</p>
<pre><code>import { ModalController } from &apos;ionic-angular&apos;;
import { MaPageModal } from &apos;./modal/modal&apos;; // la page modale est dans le meme dossier que la principale

export class MaPage {
  constructor(public modalCtrl: ModalController) {
  }

  presentModal() {
    let modal = this.modalCtrl.create(ModalPage, {&apos;monParam&apos;:&apos;Ceci est un param&#xE8;tre&apos;});
    modal.present();
  }
}
</code></pre><p>R&#xE9;cup&#xE9;ration des donn&#xE9;es dans la classe de la fen&#xEA;tre :</p>
<pre><code class="lang-js"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MaPageModal</span> </span>{
  unParamVenuDeLoin : any;

  <span class="hljs-keyword">constructor</span>(
    public platform: Platform,
    public params: NavParams,
    public viewCtrl: ViewController
  ) {
    <span class="hljs-keyword">this</span>.unParamVenuDeLoin = <span class="hljs-keyword">this</span>.params.get(<span class="hljs-string">&apos;monParam&apos;</span>)
  }

  dismiss() {
    <span class="hljs-keyword">this</span>.viewCtrl.dismiss();
  }
}
</code></pre>
<h2 id="annexes">Annexes</h2>
<ul>
<li>Documentation sur les m&#xE9;thodes Map, filter et Reduce : <ul>
<li><a href="https://code.tutsplus.com/tutorials/how-to-use-map-filter-reduce-in-javascript--cms-26209" target="_blank">https://code.tutsplus.com/tutorials/how-to-use-map-filter-reduce-in-javascript--cms-2620</a></li>
<li><a href="#">https://scotch.io/tutorials/list-processing-with-map-filter-and-reduce</a></li>
</ul>
</li>
</ul>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="chap-5-utilisation-des-composants-ionic.html" class="navigation navigation-prev " aria-label="Previous page: Chap 5 - Utilisation des composants Ionic">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="chap-7-introduction-au-framework-angular.html" class="navigation navigation-next " aria-label="Next page: Chap 7 - Introduction au framework Angular">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Chap 6 - Introduction au langage TypeScript, le futur de JavaScript","level":"1.11","depth":1,"next":{"title":"Chap 7 - Introduction au framework Angular","level":"1.12","depth":1,"path":"chap-7-introduction-au-framework-angular.md","ref":"chap-7-introduction-au-framework-angular.md","articles":[]},"previous":{"title":"Chap 5 - Utilisation des composants Ionic","level":"1.10","depth":1,"path":"chap-5-utilisation-des-composants-ionic.md","ref":"chap-5-utilisation-des-composants-ionic.md","articles":[]},"dir":"ltr"},"config":{"plugins":["disqus","-lunr","-search"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"disqus":{"useIdentifier":false,"shortName":"ionic-edounze-com"},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sidebar":{}},"gitbook":"*"},"file":{"path":"chap-6-introduction-au-langage-typescript-le-futur-de-javascript.md","mtime":"2018-04-19T12:19:24.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-04-20T07:03:07.723Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

